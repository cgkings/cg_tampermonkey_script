# Emby 媒体信息获取助手使用说明

## 功能简介

Emby 媒体信息获取助手是一个油猴脚本，专为 Emby 用户设计，帮助您快速获取并展示媒体文件的详细信息。该脚本支持所有媒体类型，包括电影、电视剧、音乐等，代码精简高效。

## 主要特点

- **一键获取媒体信息**：快速查看当前媒体的编码、分辨率、音频格式等详细信息
- **支持电视剧批量处理**：可单集获取或批量获取整季/整部剧集的信息
- **本地缓存**：自动缓存查询结果 24 小时，减少重复请求
- **清晰展示**：媒体信息分类展示，一目了然
- **按需手动获取**：仅在您需要时才获取信息，不干扰正常浏览
- **支持所有媒体类型**：兼容 Emby 支持的所有媒体格式

## 安装方法

1. 确保您的浏览器已安装 Tampermonkey 或其他兼容的用户脚本管理器
2. 访问脚本发布页面，点击"安装"按钮
3. 在弹出的 Tampermonkey 安装页面确认安装
4. 刷新您的 Emby 页面，脚本将自动激活

## 使用方法

1. 在 Emby 网页端打开任意媒体详情页面
2. 您将在页面右下角看到"获取媒体信息"和"清除缓存"两个按钮
3. 点击"获取媒体信息"按钮获取当前媒体的详细信息
4. 若媒体为电视剧，将显示剧集列表，您可以：
   - 点击单集旁的"获取信息"按钮获取该集信息
   - 点击"获取所有剧集信息"按钮批量获取所有剧集信息
5. 信息窗口可通过点击"关闭"按钮或自动关闭（约 5 秒）

## 查看详细信息

1. 在媒体信息窗口中，基本信息（名称、路径、格式、视频编码、音频编码、字幕）将直接显示
2. 点击"详细信息"下拉菜单可查看完整的 JSON 数据结构
3. 对于电视剧，剧集信息将按季节和集数排列显示

## 缓存管理

- 媒体信息会在本地缓存 24 小时，减少服务器负担
- 点击"清除缓存"按钮可手动清除所有缓存的媒体信息
- 当您重新获取特定媒体信息时，会自动清除该媒体的缓存并重新获取

## 故障排除

- **无法显示按钮**：尝试刷新页面，或检查 Tampermonkey 是否启用
- **获取信息失败**：可能是网络问题或权限问题，请确保您已登录 Emby 并有权限访问该媒体
- **显示不正确**：尝试清除缓存后重新获取

## 隐私说明

- 所有数据均在本地处理，不会上传至第三方服务器
- 缓存信息仅保存在浏览器本地存储中，不会跨设备共享